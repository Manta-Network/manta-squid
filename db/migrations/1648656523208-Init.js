module.exports = class Init1648656523208 {
  name = 'Init1648656523208'

  async up(db) {
    await db.query(`CREATE TABLE "session" ("id" character varying NOT NULL, "type" text NOT NULL, "network" text NOT NULL, "session_index" integer NOT NULL, "started_at" TIMESTAMP WITH TIME ZONE NOT NULL, "ended_at" TIMESTAMP WITH TIME ZONE, "active_validators" text array NOT NULL, CONSTRAINT "PK_f55da76ac1c3ac420f444d2ff11" PRIMARY KEY ("id"))`)
    await db.query(`CREATE TABLE "block" ("id" character varying NOT NULL, "network" text NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "author_address_ss58" text NOT NULL, "part_of_session_id" character varying NOT NULL, CONSTRAINT "PK_d0925763efb591c2e2ffb267572" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_764f5f8415aab50c195d6fc36c" ON "block" ("part_of_session_id") `)
    await db.query(`CREATE TABLE "substrate_council_vote" ("id" character varying NOT NULL, "network" character varying(8) NOT NULL, "root_account" text NOT NULL, "block_number" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "proposal_index" integer NOT NULL, "proposal" text NOT NULL, "approve" boolean NOT NULL, "account_id" character varying NOT NULL, CONSTRAINT "PK_1f1048f82fd8ea3f80453b0cd35" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_858957db11f91f86c9adda9114" ON "substrate_council_vote" ("account_id") `)
    await db.query(`CREATE INDEX "IDX_01f14e4e6685b4aa8b25251829" ON "substrate_council_vote" ("root_account") `)
    await db.query(`CREATE INDEX "IDX_da6dd1f3133d7235227d9e7434" ON "substrate_council_vote" ("proposal_index") `)
    await db.query(`CREATE TABLE "substrate_techcomm_vote" ("id" character varying NOT NULL, "network" character varying(8) NOT NULL, "root_account" text NOT NULL, "block_number" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "approve" boolean NOT NULL, "account_id" character varying NOT NULL, "proposal_id" character varying NOT NULL, CONSTRAINT "PK_ad4075877cea220118a690e54f5" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_83f9e4cb338f9886af0e8bc547" ON "substrate_techcomm_vote" ("account_id") `)
    await db.query(`CREATE INDEX "IDX_5b6eba22f1bdc36291b71d4f11" ON "substrate_techcomm_vote" ("root_account") `)
    await db.query(`CREATE INDEX "IDX_a94b79ce640c2de570cb0c6f90" ON "substrate_techcomm_vote" ("proposal_id") `)
    await db.query(`CREATE TABLE "substrate_proposal_vote" ("id" character varying NOT NULL, "network" character varying(8) NOT NULL, "root_account" text NOT NULL, "block_number" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "ref_index" integer NOT NULL, "vote" text NOT NULL, "account_id" character varying NOT NULL, CONSTRAINT "PK_7eda9706266bf01ed47b51d0257" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_17e4cf681684ff09db454426be" ON "substrate_proposal_vote" ("account_id") `)
    await db.query(`CREATE INDEX "IDX_ffe435537c95a1523c7fdab950" ON "substrate_proposal_vote" ("root_account") `)
    await db.query(`CREATE INDEX "IDX_7773c2d4378b43742527e9a7c1" ON "substrate_proposal_vote" ("ref_index") `)
    await db.query(`CREATE TABLE "substrate_proposal_second" ("id" character varying NOT NULL, "network" character varying(8) NOT NULL, "root_account" text NOT NULL, "block_number" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "proposal_index" integer NOT NULL, "upper_bound" integer, "account_id" character varying NOT NULL, CONSTRAINT "PK_add1d6a7498d98e710f05ca6ce0" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_2fd2af427131b2c21e303bca51" ON "substrate_proposal_second" ("account_id") `)
    await db.query(`CREATE INDEX "IDX_0ef1335e8984eeb400ea605bcf" ON "substrate_proposal_second" ("root_account") `)
    await db.query(`CREATE INDEX "IDX_7626d7003e4c426be6ba887c6c" ON "substrate_proposal_second" ("proposal_index") `)
    await db.query(`CREATE TABLE "substrate_election_vote" ("id" character varying NOT NULL, "network" character varying(8) NOT NULL, "root_account" text NOT NULL, "block_number" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "candidates" text array NOT NULL, "amount" numeric NOT NULL, "account_id" character varying NOT NULL, CONSTRAINT "PK_08102bd051fcdc0b97ec12d6877" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_4418e8a14729709867e599ef70" ON "substrate_election_vote" ("account_id") `)
    await db.query(`CREATE INDEX "IDX_ae13930714d737631f3b6ed9f8" ON "substrate_election_vote" ("root_account") `)
    await db.query(`CREATE TABLE "substrate_governance_account" ("id" character varying NOT NULL, "root_account" text NOT NULL, "network" character varying(8) NOT NULL, "total_proposal_seconds" integer NOT NULL, "total_proposal_votes" integer NOT NULL, "total_election_votes" integer NOT NULL, CONSTRAINT "PK_ccd1f23a87828f4ee8eb38e9fb7" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_21097df62963e6b1d6a813e952" ON "substrate_governance_account" ("root_account") `)
    await db.query(`CREATE TABLE "substrate_techcomm_proposal" ("id" character varying NOT NULL, "proposal" text NOT NULL, "introduced_at_block" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "state" character varying(11) NOT NULL, "network" character varying(8) NOT NULL, "ayes" integer NOT NULL, "nays" integer NOT NULL, "vote_count" integer NOT NULL, "vote_threshold" integer NOT NULL, "proposer_id" character varying NOT NULL, CONSTRAINT "PK_39865fc3c224362a698c907c4d0" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_dad8a4c6f37421c83b8bcdb547" ON "substrate_techcomm_proposal" ("proposal") `)
    await db.query(`CREATE INDEX "IDX_af5f17ea175ab8006400d21279" ON "substrate_techcomm_proposal" ("proposer_id") `)
    await db.query(`CREATE TABLE "historical_balance" ("id" character varying NOT NULL, "balance" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "account_id" character varying NOT NULL, CONSTRAINT "PK_74ac29ad0bdffb6d1281a1e17e8" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_383ff006e4b59db91d32cb891e" ON "historical_balance" ("account_id") `)
    await db.query(`CREATE TABLE "account" ("id" character varying NOT NULL, "balance" numeric NOT NULL, CONSTRAINT "PK_54115ee388cdb6d86bb4bf5b2ea" PRIMARY KEY ("id"))`)
    await db.query(`ALTER TABLE "block" ADD CONSTRAINT "FK_764f5f8415aab50c195d6fc36c4" FOREIGN KEY ("part_of_session_id") REFERENCES "session"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_council_vote" ADD CONSTRAINT "FK_858957db11f91f86c9adda91146" FOREIGN KEY ("account_id") REFERENCES "substrate_governance_account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_techcomm_vote" ADD CONSTRAINT "FK_83f9e4cb338f9886af0e8bc5473" FOREIGN KEY ("account_id") REFERENCES "substrate_governance_account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_techcomm_vote" ADD CONSTRAINT "FK_a94b79ce640c2de570cb0c6f90a" FOREIGN KEY ("proposal_id") REFERENCES "substrate_techcomm_proposal"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_proposal_vote" ADD CONSTRAINT "FK_17e4cf681684ff09db454426be0" FOREIGN KEY ("account_id") REFERENCES "substrate_governance_account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_proposal_second" ADD CONSTRAINT "FK_2fd2af427131b2c21e303bca510" FOREIGN KEY ("account_id") REFERENCES "substrate_governance_account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_election_vote" ADD CONSTRAINT "FK_4418e8a14729709867e599ef706" FOREIGN KEY ("account_id") REFERENCES "substrate_governance_account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_techcomm_proposal" ADD CONSTRAINT "FK_af5f17ea175ab8006400d212796" FOREIGN KEY ("proposer_id") REFERENCES "substrate_governance_account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "historical_balance" ADD CONSTRAINT "FK_383ff006e4b59db91d32cb891e9" FOREIGN KEY ("account_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
  }

  async down(db) {
    await db.query(`DROP TABLE "session"`)
    await db.query(`DROP TABLE "block"`)
    await db.query(`DROP INDEX "public"."IDX_764f5f8415aab50c195d6fc36c"`)
    await db.query(`DROP TABLE "substrate_council_vote"`)
    await db.query(`DROP INDEX "public"."IDX_858957db11f91f86c9adda9114"`)
    await db.query(`DROP INDEX "public"."IDX_01f14e4e6685b4aa8b25251829"`)
    await db.query(`DROP INDEX "public"."IDX_da6dd1f3133d7235227d9e7434"`)
    await db.query(`DROP TABLE "substrate_techcomm_vote"`)
    await db.query(`DROP INDEX "public"."IDX_83f9e4cb338f9886af0e8bc547"`)
    await db.query(`DROP INDEX "public"."IDX_5b6eba22f1bdc36291b71d4f11"`)
    await db.query(`DROP INDEX "public"."IDX_a94b79ce640c2de570cb0c6f90"`)
    await db.query(`DROP TABLE "substrate_proposal_vote"`)
    await db.query(`DROP INDEX "public"."IDX_17e4cf681684ff09db454426be"`)
    await db.query(`DROP INDEX "public"."IDX_ffe435537c95a1523c7fdab950"`)
    await db.query(`DROP INDEX "public"."IDX_7773c2d4378b43742527e9a7c1"`)
    await db.query(`DROP TABLE "substrate_proposal_second"`)
    await db.query(`DROP INDEX "public"."IDX_2fd2af427131b2c21e303bca51"`)
    await db.query(`DROP INDEX "public"."IDX_0ef1335e8984eeb400ea605bcf"`)
    await db.query(`DROP INDEX "public"."IDX_7626d7003e4c426be6ba887c6c"`)
    await db.query(`DROP TABLE "substrate_election_vote"`)
    await db.query(`DROP INDEX "public"."IDX_4418e8a14729709867e599ef70"`)
    await db.query(`DROP INDEX "public"."IDX_ae13930714d737631f3b6ed9f8"`)
    await db.query(`DROP TABLE "substrate_governance_account"`)
    await db.query(`DROP INDEX "public"."IDX_21097df62963e6b1d6a813e952"`)
    await db.query(`DROP TABLE "substrate_techcomm_proposal"`)
    await db.query(`DROP INDEX "public"."IDX_dad8a4c6f37421c83b8bcdb547"`)
    await db.query(`DROP INDEX "public"."IDX_af5f17ea175ab8006400d21279"`)
    await db.query(`DROP TABLE "historical_balance"`)
    await db.query(`DROP INDEX "public"."IDX_383ff006e4b59db91d32cb891e"`)
    await db.query(`DROP TABLE "account"`)
    await db.query(`ALTER TABLE "block" DROP CONSTRAINT "FK_764f5f8415aab50c195d6fc36c4"`)
    await db.query(`ALTER TABLE "substrate_council_vote" DROP CONSTRAINT "FK_858957db11f91f86c9adda91146"`)
    await db.query(`ALTER TABLE "substrate_techcomm_vote" DROP CONSTRAINT "FK_83f9e4cb338f9886af0e8bc5473"`)
    await db.query(`ALTER TABLE "substrate_techcomm_vote" DROP CONSTRAINT "FK_a94b79ce640c2de570cb0c6f90a"`)
    await db.query(`ALTER TABLE "substrate_proposal_vote" DROP CONSTRAINT "FK_17e4cf681684ff09db454426be0"`)
    await db.query(`ALTER TABLE "substrate_proposal_second" DROP CONSTRAINT "FK_2fd2af427131b2c21e303bca510"`)
    await db.query(`ALTER TABLE "substrate_election_vote" DROP CONSTRAINT "FK_4418e8a14729709867e599ef706"`)
    await db.query(`ALTER TABLE "substrate_techcomm_proposal" DROP CONSTRAINT "FK_af5f17ea175ab8006400d212796"`)
    await db.query(`ALTER TABLE "historical_balance" DROP CONSTRAINT "FK_383ff006e4b59db91d32cb891e9"`)
  }
}
